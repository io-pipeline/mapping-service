# Application
quarkus.application.name=mapping-service

# Service Registration Configuration
service.registration.enabled=true
service.registration.service-name=mapping-service
service.registration.description=Document mapping and transformation service
service.registration.service-type=APPLICATION
service.registration.host=${MAPPING_SERVICE_HOST:host.docker.internal}
service.registration.port=38104
service.registration.capabilities=document-mapping,text-transformation,grpc-mapping
service.registration.tags=processing,documents,core-service

# Use service discovery for registration service - correct property name
pipeline.registration.discovery-name=platform-registration-service

# Compose Dev Services - Use shared dev services via extension
%dev.quarkus.compose.devservices.enabled=true
%dev.quarkus.compose.devservices.files=${user.home}/.pipeline/compose-devservices.yml
%dev.quarkus.compose.devservices.project-name=pipeline-shared-devservices
%dev.quarkus.compose.devservices.start-services=true
%dev.quarkus.compose.devservices.stop-services=false
%dev.quarkus.compose.devservices.reuse-project-for-tests=true
%dev.quarkus.devservices.timeout=120s

# Disable standalone devservices since we're using Compose Dev Services
%dev.quarkus.datasource.devservices.enabled=false

# gRPC Configuration
## Ports not needed, using same server setting

# HTTP Configuration (for Quinoa)
quarkus.http.port=38104
quarkus.http.host=0.0.0.0

# Development Configuration
%dev.quarkus.http.port=38104
%dev.quarkus.http.host=0.0.0.0
%dev.quarkus.http.root-path=/mapping-service
quarkus.grpc.server.use-separate-server=false
quarkus.http.test-port=9667

# Quinoa Configuration

# Consul (optional)
pipeline.consul.enabled=true
quarkus.consul-config.enabled=false
quarkus.stork.my-service.service-discovery.type=consul

# Health
quarkus.smallrye-health.root-path=/health

# gRPC Health Check
quarkus.grpc.server.enable-health-service=true

# Container Image Configuration
//TODO ADD GCR INSTEAD OF ROKKON
quarkus.container-image.registry=git.rokkon.com
quarkus.container-image.group=ai-pipestream
quarkus.container-image.name=mapping-service
quarkus.container-image.tag=latest
quarkus.container-image.additional-tags=${quarkus.application.version}

# Logging
quarkus.log.level=INFO
quarkus.log.category."ai.pipestream.mapping".level=DEBUG
